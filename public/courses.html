<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Course</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="courses-container">
    <h2 id="course-title"></h2>
    <div id="shloka-container"></div>
</div>

<script>
const courseId = new URLSearchParams(location.search).get('id');
let completed = new Set();

async function loadCourse() {
    const res = await fetch('/api/courses');
    const courses = await res.json();
    const course = courses.find(c => c._id === courseId);

    document.getElementById('course-title').textContent = course.title;

    const box = document.getElementById('shloka-container');

    course.shlokas.forEach(s => {
        const div = document.createElement('div');
        div.className = 'course-card';
        div.innerHTML = `
            <h3>Shloka ${s.shloka}</h3>
            <iframe width="100%" height="315"
                src="https://www.youtube.com/embed/${s.video_id}?enablejsapi=1"
                allowfullscreen></iframe>
        `;
        box.appendChild(div);
    });
}

window.onYouTubeIframeAPIReady = function(){};

loadCourse();
</script>

<script src="https://www.youtube.com/iframe_api"></script>
</body>
</html>
